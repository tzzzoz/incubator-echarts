!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("echarts")):"function"==typeof define&&define.amd?define(["exports","echarts"],t):t(e.dataTool={},e.echarts)}(this,function(e,t){"use strict";var i=Array.prototype.map;function f(e,t,r){if(e&&t){if(e.map&&e.map===i)return e.map(t,r);for(var a=[],o=0,n=e.length;o<n;o++)a.push(t.call(r,e[o],o,e));return a}}function g(e,t){return e.getAttribute(t)}function m(e,t){for(var r=e.firstChild;r;){if(1==r.nodeType&&r.nodeName.toLowerCase()==t.toLowerCase())return r;r=r.nextSibling}return null}function b(e,t){for(var r=e.firstChild,a=[];r;)r.nodeName.toLowerCase()==t.toLowerCase()&&a.push(r),r=r.nextSibling;return a}var r=(Object.freeze||Object)({parse:function(e){var t;if(!(t="string"==typeof e?(new DOMParser).parseFromString(e,"text/xml"):e)||t.getElementsByTagName("parsererror").length)return null;var r=m(t,"gexf");if(!r)return null;for(var a,o,n,d,i=m(r,"graph"),l=(a=m(i,"attributes"))?f(b(a,"attribute"),function(e){return{id:g(e,"id"),title:g(e,"title"),type:g(e,"type")}}):[],s={},u=0;u<l.length;u++)s[l[u].id]=l[u];return{nodes:(n=m(i,"nodes"),d=s,n?f(b(n,"node"),function(e){var t=g(e,"id"),r=g(e,"label"),a={id:t,name:r,itemStyle:{normal:{}}},o=m(e,"viz:size"),n=m(e,"viz:position"),i=m(e,"viz:color"),l=m(e,"attvalues");if(o&&(a.symbolSize=parseFloat(g(o,"value"))),n&&(a.x=parseFloat(g(n,"x")),a.y=parseFloat(g(n,"y"))),i&&(a.itemStyle.normal.color="rgb("+[0|g(i,"r"),0|g(i,"g"),0|g(i,"b")].join(",")+")"),l){var s=b(l,"attvalue");a.attributes={};for(var u=0;u<s.length;u++){var f=s[u],p=g(f,"for"),c=g(f,"value"),v=d[p];if(v){switch(v.type){case"integer":case"long":c=parseInt(c,10);break;case"float":case"double":c=parseFloat(c);break;case"boolean":c="true"==c.toLowerCase()}a.attributes[p]=c}}}return a}):[]),links:(o=m(i,"edges"),o?f(b(o,"edge"),function(e){var t=g(e,"id"),r=g(e,"label"),a=g(e,"source"),o=g(e,"target"),n=g(e,"symbol"),i={id:t,name:r,source:a,target:o,lineStyle:{normal:{}}},l=i.lineStyle.normal,s=m(e,"viz:thickness"),u=m(e,"viz:color");return s&&(l.width=parseFloat(s.getAttribute("value"))),u&&(l.color="rgb("+[0|g(u,"r"),0|g(u,"g"),0|g(u,"b")].join(",")+")"),n&&(i.symbol=n.split(",").map(function(e){return e.trim()})),i}):[])}}}),w=function(e,t){var r=(e.length-1)*t+1,a=Math.floor(r),o=+e[a-1],n=r-a;return n?o+n*(e[a]-o):o};var a=function(e,t){for(var r,a=[],o=[],n=[],i=(t=t||[]).boundIQR,l="none"===i||0===i,s=0;s<e.length;s++){n.push(s+"");var u=((r=e[s].slice()).sort(function(e,t){return e-t}),r),f=w(u,.25),p=w(u,.5),c=w(u,.75),v=u[0],d=u[u.length-1],g=(null==i?1.5:i)*(c-f),m=l?v:Math.max(v,f-g),b=l?d:Math.min(d,c+g);a.push([m,f,p,c,b]);for(var h=0;h<u.length;h++){var y=u[h];if(y<m||b<y){var x=[s,y];"vertical"===t.layout&&x.reverse(),o.push(x)}}}return{boxData:a,outliers:o,axisData:n}},o="1.0.0";t.dataTool&&(t.dataTool.version=o,t.dataTool.gexf=r,t.dataTool.prepareBoxplotData=a),e.version=o,e.gexf=r,e.prepareBoxplotData=a});
